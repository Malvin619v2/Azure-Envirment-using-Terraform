{
  "version": 4,
  "terraform_version": "0.12.24",
  "serial": 816,
  "lineage": "c8a4005e-8118-8ffa-d607-c119db31490c",
  "outputs": {},
  "resources": [
    {
      "module": "module.location_us2w",
      "mode": "managed",
      "type": "azurerm_key_vault",
      "name": "test-CapitalOnTap-2",
      "provider": "provider.azurerm",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "access_policy": [
              {
                "application_id": "",
                "certificate_permissions": [
                  "create",
                  "delete",
                  "deleteissuers",
                  "get",
                  "getissuers",
                  "import",
                  "list",
                  "listissuers",
                  "managecontacts",
                  "manageissuers",
                  "setissuers",
                  "update"
                ],
                "key_permissions": [
                  "backup",
                  "create",
                  "decrypt",
                  "delete",
                  "encrypt",
                  "get",
                  "import",
                  "list",
                  "purge",
                  "recover",
                  "restore",
                  "sign",
                  "unwrapKey",
                  "update",
                  "verify",
                  "wrapKey"
                ],
                "object_id": "e4145a7b-a389-45b8-a9de-f4e1206e6a29",
                "secret_permissions": [
                  "backup",
                  "get",
                  "list",
                  "purge",
                  "recover",
                  "restore",
                  "set"
                ],
                "storage_permissions": [
                  "backup",
                  "delete",
                  "get",
                  "list",
                  "purge",
                  "recover",
                  "regeneratekey",
                  "restore",
                  "set",
                  "update"
                ],
                "tenant_id": "2b5cb59e-c63e-4544-919b-1e8ac1fdd8e7"
              },
              {
                "application_id": "",
                "certificate_permissions": [
                  "create",
                  "delete",
                  "deleteissuers",
                  "get",
                  "getissuers",
                  "import",
                  "list",
                  "listissuers",
                  "managecontacts",
                  "manageissuers",
                  "setissuers",
                  "update"
                ],
                "key_permissions": [
                  "backup",
                  "create",
                  "decrypt",
                  "delete",
                  "encrypt",
                  "get",
                  "import",
                  "list",
                  "purge",
                  "recover",
                  "restore",
                  "sign",
                  "unwrapKey",
                  "update",
                  "verify",
                  "wrapKey"
                ],
                "object_id": "f3bfb2bf-c061-4fcf-933c-258a70423c95",
                "secret_permissions": [
                  "backup",
                  "get",
                  "list",
                  "purge",
                  "recover",
                  "restore",
                  "set"
                ],
                "storage_permissions": [
                  "backup",
                  "delete",
                  "get",
                  "list",
                  "purge",
                  "recover",
                  "regeneratekey",
                  "restore",
                  "set",
                  "update"
                ],
                "tenant_id": "2b5cb59e-c63e-4544-919b-1e8ac1fdd8e7"
              }
            ],
            "enabled_for_deployment": true,
            "enabled_for_disk_encryption": true,
            "enabled_for_template_deployment": true,
            "id": "/subscriptions/791e8523-837f-4d36-bf14-6bee2c344ef2/resourceGroups/keyvault-us2w/providers/Microsoft.KeyVault/vaults/test-CapitalOnTap-2",
            "location": "westus2",
            "name": "test-CapitalOnTap-2",
            "network_acls": [
              {
                "bypass": "AzureServices",
                "default_action": "Deny",
                "ip_rules": [
                  "82.38.39.81"
                ],
                "virtual_network_subnet_ids": []
              }
            ],
            "resource_group_name": "keyvault-us2w",
            "sku": [
              {
                "name": "standard"
              }
            ],
            "sku_name": "standard",
            "tags": {},
            "tenant_id": "2b5cb59e-c63e-4544-919b-1e8ac1fdd8e7",
            "vault_uri": "https://test-capitalontap-2.vault.azure.net/"
          },
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "module.location_us2w.azurerm_resource_group.web_server_rg2"
          ]
        }
      ]
    },
    {
      "module": "module.location_us2w",
      "mode": "managed",
      "type": "azurerm_key_vault_certificate",
      "name": "test-CapitalOnTapCert-2",
      "provider": "provider.azurerm",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "certificate": [],
            "certificate_data": "3082035F30820247A00302010202105638112D4B8645A1999E495200AFBE8D300D06092A864886F70D01010B05003016311430120603550403130B68656C6C6F2D776F726C64301E170D3230303333313034313033355A170D3231303333313034323033355A3016311430120603550403130B68656C6C6F2D776F726C6430820122300D06092A864886F70D01010105000382010F003082010A02820101008B4C2367E37B7D4C37C16D6FE74072F1674FF4581AF19021A80713475C594BD79B88F9B72ED51F6C353F4D35A13EB6E1067194998C69999E175C4103932FDF1CCA4BD8BAEFBDB8F850084C4E4057725C2C427D582D382FA391334B5DB0BAB286A60A4047605E19E2BCE6863781C8DC294F1F332AC56C9D5A3A9D3A4F51CC2395EA7C851BCDD7E47A2A83D12B00B00ADFA8A90B4ED1E95D347DA6FDC668F52E0A88A36D0F4B5BE167C70F7B1FCC539E6D9B5A29718108D98E676DE0BB20C1D3DEAC4C228E81F8EE1FF7A1D984CA7BDF01AFFE2D28D125ABEB080C110F742EAEEDDD39F36FD4D978831EC484F9FC407E42627F0E208ACC512EDB0CA3C2192B47950203010001A381A83081A5300E0603551D0F0101FF0404030201BE30090603551D130402300030130603551D25040C300A06082B0601050507030130330603551D11042C302A8214696E7465726E616C2E636F6E746F736F2E636F6D8212646F6D61696E2E68656C6C6F2E776F726C64301F0603551D23041830168014C52EB501E9E7D37FEDC8A5B351F66140871B52D1301D0603551D0E04160414C52EB501E9E7D37FEDC8A5B351F66140871B52D1300D06092A864886F70D01010B050003820101005FB8A55C77D9813EBA11DB6632190891538C4F0D48791C48D81F0C1BF4078E1716FD04C951A1BB0C81DB76BF0B9E70269782A072E281943131C69F14BC9B2D478556FB0D5F73FE6B92C0BFB47F1E0B8682EEAA767C6582636442A2D37BFCCB65C3E646B0CBF86D31BBD5EF450A44ED8EE5E7A92C28D492A9DA25DC49E9EFCD03C01AD71B87ADB464353A6295E4336A2452285D79650338BD04A959BA0A979A02943A87F28131E260531EA610BDE93630C4198B68C62FD35BC7FEB101B5BF2D79146CC062979F1DA678016764D8C3C4BFB39728AA0E46929532AD27C345F31CCEB31C75E4AC5CFF140F394DEBF6A276F1B2323991EAF6C03F8ADDCB75B17D7442",
            "certificate_policy": [
              {
                "issuer_parameters": [
                  {
                    "name": "Self"
                  }
                ],
                "key_properties": [
                  {
                    "exportable": true,
                    "key_size": 2048,
                    "key_type": "RSA",
                    "reuse_key": true
                  }
                ],
                "lifetime_action": [
                  {
                    "action": [
                      {
                        "action_type": "AutoRenew"
                      }
                    ],
                    "trigger": [
                      {
                        "days_before_expiry": 30,
                        "lifetime_percentage": 0
                      }
                    ]
                  }
                ],
                "secret_properties": [
                  {
                    "content_type": "application/x-pkcs12"
                  }
                ],
                "x509_certificate_properties": [
                  {
                    "extended_key_usage": [
                      "1.3.6.1.5.5.7.3.1"
                    ],
                    "key_usage": [
                      "cRLSign",
                      "dataEncipherment",
                      "digitalSignature",
                      "keyAgreement",
                      "keyCertSign",
                      "keyEncipherment"
                    ],
                    "subject": "CN=hello-world",
                    "subject_alternative_names": [
                      {
                        "dns_names": [
                          "domain.hello.world",
                          "internal.contoso.com"
                        ],
                        "emails": [],
                        "upns": []
                      }
                    ],
                    "validity_in_months": 12
                  }
                ]
              }
            ],
            "id": "https://test-capitalontap-2.vault.azure.net/certificates/generated-cert-2/cde3f5499a7a4f7ab5bf87eb4d3b061e",
            "key_vault_id": "/subscriptions/791e8523-837f-4d36-bf14-6bee2c344ef2/resourceGroups/keyvault-us2w/providers/Microsoft.KeyVault/vaults/test-CapitalOnTap-2",
            "name": "generated-cert-2",
            "secret_id": "https://test-capitalontap-2.vault.azure.net/secrets/generated-cert-2/cde3f5499a7a4f7ab5bf87eb4d3b061e",
            "tags": {},
            "thumbprint": "9C62F67B112EA1468DEA059A8398F4E87F7F4A3F",
            "vault_uri": "https://test-capitalontap-2.vault.azure.net/",
            "version": "cde3f5499a7a4f7ab5bf87eb4d3b061e"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "module.location_us2w.azurerm_key_vault.test-CapitalOnTap-2",
            "module.location_us2w.azurerm_resource_group.web_server_rg2"
          ]
        }
      ]
    },
    {
      "module": "module.location_us2w",
      "mode": "managed",
      "type": "azurerm_lb",
      "name": "web_server_lb",
      "provider": "provider.azurerm",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "frontend_ip_configuration": [
              {
                "inbound_nat_rules": [],
                "load_balancer_rules": [
                  "/subscriptions/791e8523-837f-4d36-bf14-6bee2c344ef2/resourceGroups/web-rg-us2w/providers/Microsoft.Network/loadBalancers/web-server-us2w-lb/loadBalancingRules/web-server-us2w-lb-http-rul"
                ],
                "name": "web-server-us2w-lb-frontend-ip",
                "outbound_rules": [],
                "private_ip_address": "",
                "private_ip_address_allocation": "Dynamic",
                "public_ip_address_id": "/subscriptions/791e8523-837f-4d36-bf14-6bee2c344ef2/resourceGroups/web-rg-us2w/providers/Microsoft.Network/publicIPAddresses/web-server-us2w-public-ip",
                "public_ip_prefix_id": "",
                "subnet_id": "",
                "zones": []
              }
            ],
            "id": "/subscriptions/791e8523-837f-4d36-bf14-6bee2c344ef2/resourceGroups/web-rg-us2w/providers/Microsoft.Network/loadBalancers/web-server-us2w-lb",
            "location": "westus2",
            "name": "web-server-us2w-lb",
            "private_ip_address": "",
            "private_ip_addresses": [],
            "resource_group_name": "web-rg-us2w",
            "sku": "Basic",
            "tags": {}
          },
          "private": "bnVsbA==",
          "dependencies": [
            "module.location_us2w.azurerm_public_ip.web_server_lb_public_ip",
            "module.location_us2w.azurerm_resource_group.web_server_rg"
          ]
        }
      ]
    },
    {
      "module": "module.location_us2w",
      "mode": "managed",
      "type": "azurerm_lb_backend_address_pool",
      "name": "web_server_lb_backend_pool",
      "provider": "provider.azurerm",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "backend_ip_configurations": [
              "/subscriptions/791e8523-837f-4d36-bf14-6bee2c344ef2/resourceGroups/web-rg-us2w/providers/Microsoft.Compute/virtualMachineScaleSets/web-server-us2w-scale-set/virtualMachines/0/networkInterfaces/web_server_network_profile/ipConfigurations/web",
              "/subscriptions/791e8523-837f-4d36-bf14-6bee2c344ef2/resourceGroups/web-rg-us2w/providers/Microsoft.Compute/virtualMachineScaleSets/web-server-us2w-scale-set/virtualMachines/2/networkInterfaces/web_server_network_profile/ipConfigurations/web"
            ],
            "id": "/subscriptions/791e8523-837f-4d36-bf14-6bee2c344ef2/resourceGroups/web-rg-us2w/providers/Microsoft.Network/loadBalancers/web-server-us2w-lb/backendAddressPools/web-server-us2w-lb-backend-pool",
            "load_balancing_rules": [
              "/subscriptions/791e8523-837f-4d36-bf14-6bee2c344ef2/resourceGroups/web-rg-us2w/providers/Microsoft.Network/loadBalancers/web-server-us2w-lb/loadBalancingRules/web-server-us2w-lb-http-rul"
            ],
            "loadbalancer_id": "/subscriptions/791e8523-837f-4d36-bf14-6bee2c344ef2/resourceGroups/web-rg-us2w/providers/Microsoft.Network/loadBalancers/web-server-us2w-lb",
            "location": null,
            "name": "web-server-us2w-lb-backend-pool",
            "resource_group_name": "web-rg-us2w"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "module.location_us2w.azurerm_lb.web_server_lb",
            "module.location_us2w.azurerm_public_ip.web_server_lb_public_ip",
            "module.location_us2w.azurerm_resource_group.web_server_rg"
          ]
        }
      ]
    },
    {
      "module": "module.location_us2w",
      "mode": "managed",
      "type": "azurerm_lb_probe",
      "name": "web_server_lb_http_probe",
      "provider": "provider.azurerm",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "/subscriptions/791e8523-837f-4d36-bf14-6bee2c344ef2/resourceGroups/web-rg-us2w/providers/Microsoft.Network/loadBalancers/web-server-us2w-lb/probes/web-server-us2w-lb-http-probe",
            "interval_in_seconds": 15,
            "load_balancer_rules": [
              "/subscriptions/791e8523-837f-4d36-bf14-6bee2c344ef2/resourceGroups/web-rg-us2w/providers/Microsoft.Network/loadBalancers/web-server-us2w-lb/loadBalancingRules/web-server-us2w-lb-http-rul"
            ],
            "loadbalancer_id": "/subscriptions/791e8523-837f-4d36-bf14-6bee2c344ef2/resourceGroups/web-rg-us2w/providers/Microsoft.Network/loadBalancers/web-server-us2w-lb",
            "location": null,
            "name": "web-server-us2w-lb-http-probe",
            "number_of_probes": 2,
            "port": 80,
            "protocol": "Tcp",
            "request_path": "",
            "resource_group_name": "web-rg-us2w"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "module.location_us2w.azurerm_lb.web_server_lb",
            "module.location_us2w.azurerm_public_ip.web_server_lb_public_ip",
            "module.location_us2w.azurerm_resource_group.web_server_rg"
          ]
        }
      ]
    },
    {
      "module": "module.location_us2w",
      "mode": "managed",
      "type": "azurerm_lb_rule",
      "name": "web_server_lb_http_rule",
      "provider": "provider.azurerm",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "backend_address_pool_id": "/subscriptions/791e8523-837f-4d36-bf14-6bee2c344ef2/resourceGroups/web-rg-us2w/providers/Microsoft.Network/loadBalancers/web-server-us2w-lb/backendAddressPools/web-server-us2w-lb-backend-pool",
            "backend_port": 80,
            "disable_outbound_snat": false,
            "enable_floating_ip": false,
            "frontend_ip_configuration_id": "/subscriptions/791e8523-837f-4d36-bf14-6bee2c344ef2/resourceGroups/web-rg-us2w/providers/Microsoft.Network/loadBalancers/web-server-us2w-lb/frontendIPConfigurations/web-server-us2w-lb-frontend-ip",
            "frontend_ip_configuration_name": "web-server-us2w-lb-frontend-ip",
            "frontend_port": 80,
            "id": "/subscriptions/791e8523-837f-4d36-bf14-6bee2c344ef2/resourceGroups/web-rg-us2w/providers/Microsoft.Network/loadBalancers/web-server-us2w-lb/loadBalancingRules/web-server-us2w-lb-http-rul",
            "idle_timeout_in_minutes": 4,
            "load_distribution": "Default",
            "loadbalancer_id": "/subscriptions/791e8523-837f-4d36-bf14-6bee2c344ef2/resourceGroups/web-rg-us2w/providers/Microsoft.Network/loadBalancers/web-server-us2w-lb",
            "location": null,
            "name": "web-server-us2w-lb-http-rul",
            "probe_id": "/subscriptions/791e8523-837f-4d36-bf14-6bee2c344ef2/resourceGroups/web-rg-us2w/providers/Microsoft.Network/loadBalancers/web-server-us2w-lb/probes/web-server-us2w-lb-http-probe",
            "protocol": "Tcp",
            "resource_group_name": "web-rg-us2w"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "module.location_us2w.azurerm_lb.web_server_lb",
            "module.location_us2w.azurerm_lb_backend_address_pool.web_server_lb_backend_pool",
            "module.location_us2w.azurerm_lb_probe.web_server_lb_http_probe",
            "module.location_us2w.azurerm_public_ip.web_server_lb_public_ip",
            "module.location_us2w.azurerm_resource_group.web_server_rg"
          ]
        }
      ]
    },
    {
      "module": "module.location_us2w",
      "mode": "managed",
      "type": "azurerm_network_security_group",
      "name": "web_server_nsg",
      "provider": "provider.azurerm",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "/subscriptions/791e8523-837f-4d36-bf14-6bee2c344ef2/resourceGroups/web-rg-us2w/providers/Microsoft.Network/networkSecurityGroups/web-server-us2w-nsg",
            "location": "westus2",
            "name": "web-server-us2w-nsg",
            "resource_group_name": "web-rg-us2w",
            "security_rule": [
              {
                "access": "Allow",
                "description": "",
                "destination_address_prefix": "*",
                "destination_address_prefixes": [],
                "destination_application_security_group_ids": [],
                "destination_port_range": "3389",
                "destination_port_ranges": [],
                "direction": "Inbound",
                "name": "HTTP Inbound",
                "priority": 100,
                "protocol": "TCP",
                "source_address_prefix": "*",
                "source_address_prefixes": [],
                "source_application_security_group_ids": [],
                "source_port_range": "*",
                "source_port_ranges": []
              }
            ],
            "tags": {}
          },
          "private": "bnVsbA==",
          "dependencies": [
            "module.location_us2w.azurerm_resource_group.web_server_rg"
          ]
        }
      ]
    },
    {
      "module": "module.location_us2w",
      "mode": "managed",
      "type": "azurerm_network_security_rule",
      "name": "web_server_nsg_rule_http",
      "provider": "provider.azurerm",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "access": "Allow",
            "description": "",
            "destination_address_prefix": "*",
            "destination_address_prefixes": [],
            "destination_application_security_group_ids": [],
            "destination_port_range": "3389",
            "destination_port_ranges": [],
            "direction": "Inbound",
            "id": "/subscriptions/791e8523-837f-4d36-bf14-6bee2c344ef2/resourceGroups/web-rg-us2w/providers/Microsoft.Network/networkSecurityGroups/web-server-us2w-nsg/securityRules/HTTP Inbound",
            "name": "HTTP Inbound",
            "network_security_group_name": "web-server-us2w-nsg",
            "priority": 100,
            "protocol": "TCP",
            "resource_group_name": "web-rg-us2w",
            "source_address_prefix": "*",
            "source_address_prefixes": [],
            "source_application_security_group_ids": [],
            "source_port_range": "*",
            "source_port_ranges": []
          },
          "private": "bnVsbA==",
          "dependencies": [
            "module.location_us2w.azurerm_network_security_group.web_server_nsg",
            "module.location_us2w.azurerm_resource_group.web_server_rg"
          ]
        }
      ]
    },
    {
      "module": "module.location_us2w",
      "mode": "managed",
      "type": "azurerm_public_ip",
      "name": "web_server_lb_public_ip",
      "provider": "provider.azurerm",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "allocation_method": "Static",
            "domain_name_label": "capital-tf-2",
            "fqdn": "capital-tf-2.westus2.cloudapp.azure.com",
            "id": "/subscriptions/791e8523-837f-4d36-bf14-6bee2c344ef2/resourceGroups/web-rg-us2w/providers/Microsoft.Network/publicIPAddresses/web-server-us2w-public-ip",
            "idle_timeout_in_minutes": 4,
            "ip_address": "52.229.57.123",
            "ip_version": "IPv4",
            "location": "westus2",
            "name": "web-server-us2w-public-ip",
            "public_ip_address_allocation": "Static",
            "public_ip_prefix_id": null,
            "resource_group_name": "web-rg-us2w",
            "reverse_fqdn": "",
            "sku": "Basic",
            "tags": {},
            "zones": []
          },
          "private": "bnVsbA==",
          "dependencies": [
            "module.location_us2w.azurerm_resource_group.web_server_rg"
          ]
        }
      ]
    },
    {
      "module": "module.location_us2w",
      "mode": "managed",
      "type": "azurerm_resource_group",
      "name": "web_server_rg",
      "provider": "provider.azurerm",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "/subscriptions/791e8523-837f-4d36-bf14-6bee2c344ef2/resourceGroups/web-rg-us2w",
            "location": "westus2",
            "name": "web-rg-us2w",
            "tags": {}
          },
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "module": "module.location_us2w",
      "mode": "managed",
      "type": "azurerm_resource_group",
      "name": "web_server_rg2",
      "provider": "provider.azurerm",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "/subscriptions/791e8523-837f-4d36-bf14-6bee2c344ef2/resourceGroups/keyvault-us2w",
            "location": "westus2",
            "name": "keyvault-us2w",
            "tags": {}
          },
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "module": "module.location_us2w",
      "mode": "managed",
      "type": "azurerm_subnet",
      "name": "web_server_subnet",
      "each": "list",
      "provider": "provider.azurerm",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "address_prefix": "1.0.1.0/24",
            "delegation": [],
            "id": "/subscriptions/791e8523-837f-4d36-bf14-6bee2c344ef2/resourceGroups/web-rg-us2w/providers/Microsoft.Network/virtualNetworks/web-server-us2w-vnet/subnets/web-server-us2w-subnet",
            "ip_configurations": [
              "/subscriptions/791e8523-837f-4d36-bf14-6bee2c344ef2/resourceGroups/web-rg-us2w/providers/Microsoft.Compute/virtualMachineScaleSets/web-server-us2w-scale-set/virtualMachines/0/networkInterfaces/web_server_network_profile/ipConfigurations/web",
              "/subscriptions/791e8523-837f-4d36-bf14-6bee2c344ef2/resourceGroups/web-rg-us2w/providers/Microsoft.Compute/virtualMachineScaleSets/web-server-us2w-scale-set/virtualMachines/2/networkInterfaces/web_server_network_profile/ipConfigurations/web"
            ],
            "name": "web-server-us2w-subnet",
            "network_security_group_id": "/subscriptions/791e8523-837f-4d36-bf14-6bee2c344ef2/resourceGroups/web-rg-us2w/providers/Microsoft.Network/networkSecurityGroups/web-server-us2w-nsg",
            "resource_group_name": "web-rg-us2w",
            "route_table_id": "",
            "service_endpoints": [],
            "virtual_network_name": "web-server-us2w-vnet"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "module.location_us2w.azurerm_network_security_group.web_server_nsg",
            "module.location_us2w.azurerm_resource_group.web_server_rg",
            "module.location_us2w.azurerm_virtual_network.web_server_vnet"
          ]
        },
        {
          "index_key": 1,
          "schema_version": 0,
          "attributes": {
            "address_prefix": "1.0.1.0/24",
            "delegation": [],
            "id": "/subscriptions/791e8523-837f-4d36-bf14-6bee2c344ef2/resourceGroups/web-rg-us2w/providers/Microsoft.Network/virtualNetworks/web-server-us2w-vnet/subnets/web-server-us2w-subnet",
            "ip_configurations": [
              "/subscriptions/791e8523-837f-4d36-bf14-6bee2c344ef2/resourceGroups/web-rg-us2w/providers/Microsoft.Compute/virtualMachineScaleSets/web-server-us2w-scale-set/virtualMachines/0/networkInterfaces/web_server_network_profile/ipConfigurations/web",
              "/subscriptions/791e8523-837f-4d36-bf14-6bee2c344ef2/resourceGroups/web-rg-us2w/providers/Microsoft.Compute/virtualMachineScaleSets/web-server-us2w-scale-set/virtualMachines/2/networkInterfaces/web_server_network_profile/ipConfigurations/web"
            ],
            "name": "web-server-us2w-subnet",
            "network_security_group_id": "",
            "resource_group_name": "web-rg-us2w",
            "route_table_id": "",
            "service_endpoints": [],
            "virtual_network_name": "web-server-us2w-vnet"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "module.location_us2w.azurerm_network_security_group.web_server_nsg",
            "module.location_us2w.azurerm_resource_group.web_server_rg",
            "module.location_us2w.azurerm_virtual_network.web_server_vnet"
          ]
        }
      ]
    },
    {
      "module": "module.location_us2w",
      "mode": "managed",
      "type": "azurerm_virtual_machine_scale_set",
      "name": "web_server",
      "provider": "provider.azurerm",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "automatic_os_upgrade": false,
            "boot_diagnostics": [],
            "eviction_policy": "",
            "extension": [],
            "health_probe_id": null,
            "id": "/subscriptions/791e8523-837f-4d36-bf14-6bee2c344ef2/resourceGroups/web-rg-us2w/providers/Microsoft.Compute/virtualMachineScaleSets/web-server-us2w-scale-set",
            "identity": [],
            "license_type": "",
            "location": "westus2",
            "name": "web-server-us2w-scale-set",
            "network_profile": [
              {
                "accelerated_networking": false,
                "dns_settings": [
                  {
                    "dns_servers": []
                  }
                ],
                "ip_configuration": [
                  {
                    "application_gateway_backend_address_pool_ids": [],
                    "application_security_group_ids": [],
                    "load_balancer_backend_address_pool_ids": [
                      "/subscriptions/791e8523-837f-4d36-bf14-6bee2c344ef2/resourceGroups/web-rg-us2w/providers/Microsoft.Network/loadBalancers/web-server-us2w-lb/backendAddressPools/web-server-us2w-lb-backend-pool"
                    ],
                    "load_balancer_inbound_nat_rules_ids": [],
                    "name": "web",
                    "primary": true,
                    "public_ip_address_configuration": [],
                    "subnet_id": "/subscriptions/791e8523-837f-4d36-bf14-6bee2c344ef2/resourceGroups/web-rg-us2w/providers/Microsoft.Network/virtualNetworks/web-server-us2w-vnet/subnets/web-server-us2w-subnet"
                  }
                ],
                "ip_forwarding": false,
                "name": "web_server_network_profile",
                "network_security_group_id": "",
                "primary": true
              }
            ],
            "os_profile": [
              {
                "admin_password": "Passw0rd-1",
                "admin_username": "webserver",
                "computer_name_prefix": "web",
                "custom_data": ""
              }
            ],
            "os_profile_linux_config": [],
            "os_profile_secrets": [
              {
                "source_vault_id": "/subscriptions/791e8523-837f-4d36-bf14-6bee2c344ef2/resourceGroups/keyvault-us2w/providers/Microsoft.KeyVault/vaults/test-CapitalOnTap-2",
                "vault_certificates": [
                  {
                    "certificate_store": "*",
                    "certificate_url": "https://test-capitalontap-2.vault.azure.net/secrets/generated-cert-2/cde3f5499a7a4f7ab5bf87eb4d3b061e"
                  }
                ]
              }
            ],
            "os_profile_windows_config": [
              {
                "additional_unattend_config": [],
                "enable_automatic_upgrades": false,
                "provision_vm_agent": false,
                "winrm": []
              }
            ],
            "overprovision": true,
            "plan": [],
            "priority": "",
            "proximity_placement_group_id": null,
            "resource_group_name": "web-rg-us2w",
            "rolling_upgrade_policy": [],
            "single_placement_group": true,
            "sku": [
              {
                "capacity": 2,
                "name": "Standard_B1s",
                "tier": "Standard"
              }
            ],
            "storage_profile_data_disk": [],
            "storage_profile_image_reference": [
              {
                "id": "",
                "offer": "WindowsServer",
                "publisher": "MicrosoftWindowsServer",
                "sku": "2016-Datacenter-Server-Core-smalldisk",
                "version": "latest"
              }
            ],
            "storage_profile_os_disk": [
              {
                "caching": "ReadWrite",
                "create_option": "FromImage",
                "image": "",
                "managed_disk_type": "Standard_LRS",
                "name": "",
                "os_type": "",
                "vhd_containers": []
              }
            ],
            "tags": {},
            "upgrade_policy_mode": "Manual",
            "zones": []
          },
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "module.location_us2w.azurerm_key_vault.test-CapitalOnTap-2",
            "module.location_us2w.azurerm_key_vault_certificate.test-CapitalOnTapCert-2",
            "module.location_us2w.azurerm_lb_backend_address_pool.web_server_lb_backend_pool",
            "module.location_us2w.azurerm_network_security_group.web_server_nsg",
            "module.location_us2w.azurerm_resource_group.web_server_rg",
            "module.location_us2w.azurerm_resource_group.web_server_rg2",
            "module.location_us2w.azurerm_subnet.web_server_subnet",
            "module.location_us2w.azurerm_virtual_network.web_server_vnet"
          ]
        }
      ]
    },
    {
      "module": "module.location_us2w",
      "mode": "managed",
      "type": "azurerm_virtual_network",
      "name": "web_server_vnet",
      "provider": "provider.azurerm",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "address_space": [
              "1.0.0.0/22"
            ],
            "ddos_protection_plan": [],
            "dns_servers": [],
            "id": "/subscriptions/791e8523-837f-4d36-bf14-6bee2c344ef2/resourceGroups/web-rg-us2w/providers/Microsoft.Network/virtualNetworks/web-server-us2w-vnet",
            "location": "westus2",
            "name": "web-server-us2w-vnet",
            "resource_group_name": "web-rg-us2w",
            "subnet": [
              {
                "address_prefix": "1.0.1.0/24",
                "id": "/subscriptions/791e8523-837f-4d36-bf14-6bee2c344ef2/resourceGroups/web-rg-us2w/providers/Microsoft.Network/virtualNetworks/web-server-us2w-vnet/subnets/web-server-us2w-subnet",
                "name": "web-server-us2w-subnet",
                "security_group": "/subscriptions/791e8523-837f-4d36-bf14-6bee2c344ef2/resourceGroups/web-rg-us2w/providers/Microsoft.Network/networkSecurityGroups/web-server-us2w-nsg"
              }
            ],
            "tags": {}
          },
          "private": "bnVsbA==",
          "dependencies": [
            "module.location_us2w.azurerm_resource_group.web_server_rg"
          ]
        }
      ]
    }
  ]
}
